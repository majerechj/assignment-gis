webpackJsonp([1],{"+WsK":function(e,o){},0:function(e,o){},"4+hh":function(e,o){},BHJw:function(e,o){},NHnr:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("7+uW"),a={render:function(){var e=this.$createElement,o=this._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]};var l=t("VU/8")({name:"App"},a,!1,function(e){t("+WsK")},null,null).exports,s=t("/ocq"),i=t("dqTT"),r=t.n(i),c={name:"HelloWorld",data:function(){return{distance:100,polygonNames:[],selectedPolygon:"",allPolygons:[],pointFeature:{type:"Feature",geometry:null,properties:{title:null,icon:"harbor"}},geoJsonData:[]}},components:{mapbox:r.a},methods:{userPosition:function(e){console.log(e._userLocationDotMarker._lngLat.lng),console.log(e._userLocationDotMarker._lngLat.lat)},mapLoaded:function(e){this.map=e},geolocateError:function(e,o){console.log(o)},getNamesOfAllPolygons:function(){this.$http.get("http://localhost:3000/getPolygonNames").then(function(e){var o;for(this.allPolygons=e.body,o=0;o<e.body.length;o++)this.polygonNames.push(e.body[o].name)})}},watch:{selectedPolygon:function(e){this.selectedPolygon=e,"Všetko"==e?console.log("daj všetky zastávky"):(console.log(this.allPolygons[this.polygonNames.indexOf(this.selectedPolygon)].way),this.$http.post("http://localhost:3000/getPlatformsByPolygon",{way:this.allPolygons[this.polygonNames.indexOf(this.selectedPolygon)].way}).then(function(e){var o;for(this.geoJsonData=[],o=0;o<e.body.length;o++)this.pointFeature.geometry=JSON.parse(e.body[o].geometry),this.pointFeature.properties.title=e.body[o].name,this.geoJsonData.push(this.pointFeature);console.log(this.geoJsonData);var t={id:"points",type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:this.geoJsonData}},layout:{"icon-image":"circle-15","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top"}};console.log(t),this.map.addLayer(t),console.log(e)}))}},created:function(){this.getNamesOfAllPolygons()}},p={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"hello"},[t("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiaW5kZWVkMTMiLCJhIjoiY2pvenN6eWFvMGJ1bjNybno3b253bnM4ZyJ9.f3-G0uZ9Rd1Tjd4WMddwUg","map-options":{container:"map",style:"mapbox://styles/mapbox/light-v9",center:[17.107748,48.148598],zoom:10},"geolocate-control":{show:!0,position:"top-left"},"scale-control":{show:!0,position:"top-left"},"fullscreen-control":{show:!0,position:"top-left"}},on:{"map-load":e.mapLoaded,"geolocate-error":e.geolocateError,"geolocate-geolocate":e.userPosition}}),e._v(" "),t("md-card",[t("md-field",[t("label",{attrs:{for:"font"}},[e._v("Oblasť")]),e._v(" "),t("md-select",{model:{value:e.selectedPolygon,callback:function(o){e.selectedPolygon=o},expression:"selectedPolygon"}},[t("md-option",{attrs:{value:"Všetko"}},[e._v("Všetko")]),e._v(" "),e._l(e.allPolygons,function(o){return t("md-option",{key:o.name,attrs:{value:o.name}},[e._v(e._s(o.name))])})],2)],1),e._v(" "),t("div",[e._v("\n      Vzdialenosť "),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.distance,expression:"distance",modifiers:{number:!0}}],attrs:{type:"range"},domProps:{value:e.distance},on:{__r:function(o){e.distance=e._n(o.target.value)},blur:function(o){e.$forceUpdate()}}}),e._v(" "+e._s(e.distance)+"km\n    ")])],1)],1)},staticRenderFns:[]};var d=t("VU/8")(c,p,!1,function(e){t("BHJw")},"data-v-1fa2802a",null).exports;n.default.use(s.a);var u=new s.a({routes:[{path:"/",name:"Map",component:d}]}),g=t("8+8L"),m=t("Lgyv"),f=t.n(m);t("4+hh");n.default.use(f.a),n.default.use(g.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:u,components:{App:l,Mapbox:r.a},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.427bdd27d1a4a1598b07.js.map